"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var common_1 = require("@pnp/common-commonjs");
var types_js_1 = require("../lists/types.js");
var types_js_2 = require("./types.js");
require("../folders/list.js");
var types_js_3 = require("../webs/types.js");
var extractweburl_js_1 = require("../utils/extractweburl.js");
types_js_1._List.prototype.getSiteScript = function () {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        var rootFolder, web, absoluteListUrl;
        return (0, tslib_1.__generator)(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, this.clone(types_js_1.List).rootFolder.get()];
                case 1:
                    rootFolder = _a.sent();
                    return [4 /*yield*/, (0, types_js_3.Web)((0, extractweburl_js_1.extractWebUrl)(this.toUrl())).configureFrom(this).select("Url").get()];
                case 2:
                    web = _a.sent();
                    absoluteListUrl = (0, common_1.combine)(web.Url, "Lists", rootFolder.Name);
                    return [2 /*return*/, (0, types_js_2.SiteScripts)(this, "").getSiteScriptFromList(absoluteListUrl)];
            }
        });
    });
};
//# sourceMappingURL=list.js.map