"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setProxyAgent = exports.setProxyUrl = exports.configureProxyOptions = void 0;
var common_1 = require("@pnp/common-commonjs");
var HttpsProxyAgent = require("https-proxy-agent");
var proxyUrl = "";
var proxyAgent = null;
function configureProxyOptions(opts) {
    if (!(0, common_1.stringIsNullOrEmpty)(proxyUrl) || (0, common_1.objectDefinedNotNull)(proxyAgent)) {
        (0, common_1.mergeOptions)(opts, {
            agent: proxyAgent || HttpsProxyAgent(proxyUrl),
        });
    }
    return opts;
}
exports.configureProxyOptions = configureProxyOptions;
/**
 * Sets the given url as a proxy on all requests
 *
 * @param url The url of the proxy
 */
function setProxyUrl(url) {
    proxyUrl = url;
}
exports.setProxyUrl = setProxyUrl;
/**
 * Sets the given agent as a proxy on all requests
 *
 * @param agent The proxy agent to use
 */
function setProxyAgent(agent) {
    proxyAgent = agent;
}
exports.setProxyAgent = setProxyAgent;
//# sourceMappingURL=proxy.js.map